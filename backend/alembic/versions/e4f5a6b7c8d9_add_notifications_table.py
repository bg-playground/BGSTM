"""add notifications table\n\nRevision ID: e4f5a6b7c8d9\nRevises: c2d3e4f5a6b7\nCreate Date: 2026-02-26 00:00:00.000000\n"""\n\nfrom typing import Sequence, Union\n\nimport sqlalchemy as sa\n\nfrom alembic import op\n\nrevision: str = "e4f5a6b7c8d9"\ndown_revision: Union[str, None] = "c2d3e4f5a6b7"\nbranch_labels: Union[str, Sequence[str], None] = None\ndepends_on: Union[str, Sequence[str], None] = None\n\ndef upgrade() -> None:\n    op.create_table(\n        "notifications",\n        sa.Column("id", sa.String(36), primary_key=True),\n        sa.Column(\n            "user_id",\n            sa.String(36),\n            sa.ForeignKey("users.id", ondelete="CASCADE"),\n            nullable=False,\n        ),\n        sa.Column("type", sa.String(50), nullable=False),\n        sa.Column("title", sa.String(255), nullable=False),\n        sa.Column("message", sa.Text(), nullable=False),\n        sa.Column("read", sa.Boolean(), nullable=False, server_default="false"),\n        sa.Column("metadata", sa.JSON(), nullable=True),\n        sa.Column(\n            "created_at",\n            sa.DateTime(),\n            nullable=False,\n            server_default=sa.func.now(),\n        ),\n    )\n\ndef downgrade() -> None:\n    op.drop_table("notifications")\n